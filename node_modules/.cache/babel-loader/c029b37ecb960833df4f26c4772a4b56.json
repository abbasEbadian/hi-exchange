{"ast":null,"code":"var _jsxFileName = \"H:\\\\Projects\\\\package\\\\cheerio\\\\src\\\\jsx\\\\element\\\\Timer.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\nfunction Timer() {\n  const [time, setTime] = useState(60);\n  const [next, setNext] = useState(undefined);\n  const next_refresh = useSelector(state => state.indexConverter.nextRefreshTime);\n  useEffect(() => {\n    setNext(next_refresh);\n    console.log(next_refresh);\n  }, [next_refresh]);\n  const nd = new Date(+next);\n  setTimeout(e => {\n    const t = Math.round((nd - new Date()) / 1000);\n    const m = t > 0 ? t : 60 + t;\n    setTime(m);\n    console.log(m);\n  }, 1000);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, \"\\u0628\\u0631\\u0648\\u0632\\u0631\\u0633\\u0627\\u0646\\u06CC \\u0642\\u06CC\\u0645\\u062A  \\u0628\\u0639\\u062F \\u0627\\u0632\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"px-2 d-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 13\n    }\n  }, time < 60 && time >= 0 ? time + \" ثانیه \" : \"\"));\n}\n\nexport default Timer;","map":{"version":3,"sources":["H:/Projects/package/cheerio/src/jsx/element/Timer.jsx"],"names":["React","useState","useEffect","useSelector","Timer","time","setTime","next","setNext","undefined","next_refresh","state","indexConverter","nextRefreshTime","console","log","nd","Date","setTimeout","e","t","Math","round","m"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAASC,WAAT,QAA4B,aAA5B;;AAEA,SAASC,KAAT,GAAiB;AACb,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAACQ,SAAD,CAAhC;AACA,QAAMC,YAAY,GAAGP,WAAW,CAACQ,KAAK,IAAEA,KAAK,CAACC,cAAN,CAAqBC,eAA7B,CAAhC;AACAX,EAAAA,SAAS,CAAC,MAAM;AACZM,IAAAA,OAAO,CAACE,YAAD,CAAP;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYL,YAAZ;AAEH,GAJQ,EAIN,CAACA,YAAD,CAJM,CAAT;AAKA,QAAMM,EAAE,GAAG,IAAIC,IAAJ,CAAS,CAACV,IAAV,CAAX;AACAW,EAAAA,UAAU,CAACC,CAAC,IAAE;AACV,UAAMC,CAAC,GAAEC,IAAI,CAACC,KAAL,CAAY,CAACN,EAAE,GAAG,IAAIC,IAAJ,EAAN,IAAkB,IAA9B,CAAT;AACA,UAAMM,CAAC,GAAGH,CAAC,GAAG,CAAJ,GAAQA,CAAR,GAAY,KAAGA,CAAzB;AACAd,IAAAA,OAAO,CAAEiB,CAAF,CAAP;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAYQ,CAAZ;AACH,GALS,EAKP,IALO,CAAV;AAMA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sIAEI;AAAM,IAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiClB,IAAI,GAAG,EAAP,IAAaA,IAAI,IAAG,CAArB,GAA0BA,IAAI,GAAG,SAAjC,GAA6C,EAA7E,CAFJ,CADJ;AAOH;;AAED,eAAeD,KAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { useSelector } from 'react-redux';\r\n\r\nfunction Timer() {\r\n    const [time, setTime] = useState(60)\r\n    const [next, setNext] = useState(undefined)\r\n    const next_refresh = useSelector(state=>state.indexConverter.nextRefreshTime)\r\n    useEffect(() => {\r\n        setNext(next_refresh)\r\n        console.log(next_refresh);\r\n        \r\n    }, [next_refresh])\r\n    const nd = new Date(+next)\r\n    setTimeout(e=>{\r\n        const t= Math.round( (nd - new Date())/1000 )\r\n        const m = t > 0 ? t : 60+t\r\n        setTime( m )\r\n        console.log(m)\r\n    }, 1000)\r\n    return (\r\n        <div>\r\n             بروزرسانی قیمت  بعد از \r\n            <span className=\"px-2 d-block\">{(time < 60 && time >=0) ? time + \" ثانیه \" : \"\"}</span>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Timer\r\n"]},"metadata":{},"sourceType":"module"}