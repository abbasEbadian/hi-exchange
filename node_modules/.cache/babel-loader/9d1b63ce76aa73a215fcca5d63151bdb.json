{"ast":null,"code":"var _jsxFileName = \"H:\\\\Projects\\\\package\\\\cheerio\\\\src\\\\jsx\\\\pages\\\\buy-sell.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Tab, Tabs, Form } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport PageTitle from '../element/page-title';\nimport Header2 from '../layout/header2';\nimport Sidebar from '../layout/sidebar';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetch_currencies } from '../../redux/actions';\n\nfunction BuySell() {\n  const {\n    currencyList,\n    convertRates\n  } = useSelector(state => state.currencies);\n  const wallet = useSelector(state => state.wallet.wallet);\n  const [tab, setTab] = useState(\"buy\");\n  const [convertRate, setConvertRate] = useState(0);\n  const [availableCurrency, setAvailableCurrency] = useState(0);\n  const [buyConvertAmount, setBuyConvertAmount] = useState(0);\n  const [sellConvertAmount, setConvertAmount] = useState(0);\n  const [buySource, setBuySource] = useState({\n    small_name_slug: undefined\n  });\n  const [sellSource, setSellSource] = useState({\n    small_name_slug: undefined\n  });\n  const [buyDestination, setBuyDestination] = useState({\n    small_name_slug: undefined\n  });\n  const [sellDestination, setSellDestination] = useState({\n    small_name_slug: undefined\n  });\n  const dispatch = useDispatch();\n  const karmozd = 0.01;\n  let karmozdAmount = 0;\n  let buyConversionResult = 0;\n  let buyEndPrice = 0;\n  let buyConvertInvalid = true;\n  let buyLowCredit = false;\n  let buyConvertErrorMessage = \"\";\n  let sellConversionResult = 0;\n  let sellEndPrice = 0;\n  let sellConvertInvalid = true;\n  let sellLowCredit = false;\n  let sellConvertErrorMessage = \"\";\n\n  const get_available = symbol => {\n    const target = wallet.filter((item, i) => {\n      return item[\"service\"][\"small_name_slug\"] === symbol;\n    });\n    return target.length > 0 ? target[0][\"balance\"] : 0;\n  };\n\n  const changeBuySource = e => {\n    let selectedCurrency = e.target.value;\n    if (!selectedCurrency || selectedCurrency.indexOf(\"انتخاب\") > -1) return;\n    selectedCurrency = currencyList.filter((c, idx) => c.small_name_slug == selectedCurrency)[0];\n    let sym = selectedCurrency.small_name_slug;\n    let av = get_available(sym);\n    setBuySource(selectedCurrency);\n    setAvailableCurrency(av);\n  };\n\n  const changeBuyDestination = e => {\n    let selectedCurrency = e.target.value;\n    if (!selectedCurrency || selectedCurrency.indexOf(\"انتخاب\") > -1) return;\n    selectedCurrency = currencyList.filter((c, idx) => c.small_name_slug == selectedCurrency)[0];\n    setBuyDestination(selectedCurrency);\n  };\n\n  const changeSellDestination = e => {\n    let selectedCurrency = e.target.value;\n    if (!selectedCurrency || selectedCurrency.indexOf(\"انتخاب\") > -1) return;\n    selectedCurrency = currencyList.filter((c, idx) => c.small_name_slug == selectedCurrency)[0];\n    let sym = selectedCurrency.small_name_slug;\n    let av = get_available(sym);\n    setSellDestination(selectedCurrency);\n    setAvailableCurrency(av);\n  };\n\n  const changeSellSource = e => {\n    let selectedCurrency = e.target.value;\n    if (!selectedCurrency || selectedCurrency.indexOf(\"انتخاب\") > -1) return;\n    selectedCurrency = currencyList.filter((c, idx) => c.small_name_slug == selectedCurrency)[0];\n    setSellSource(selectedCurrency);\n  };\n\n  const computePrices = e => {\n    if (tab === \"buy\") {\n      if (buyConvertAmount && buySource.small_name_slug) {\n        buyLowCredit = buyConvertAmount > availableCurrency;\n        if (buyLowCredit) buyConvertInvalid = true;\n      }\n\n      if (!buySource.small_name_slug || !buyDestination.small_name_slug || !buyConvertAmount || buyLowCredit) {\n        buyConvertInvalid = true;\n        return;\n      }\n\n      buyConvertInvalid = false;\n      buyConvertErrorMessage = \"\";\n      let key = `${buySource.small_name_slug}/${buyDestination.small_name_slug}`;\n      let rate = convertRates[key];\n      const RR = Math.pow(10, Math.max(buySource.decimal, buyDestination.decimal) || 3);\n      const CR = Math.pow(10, 8);\n      buyConversionResult = Math.round(RR * (rate * buyConvertAmount) || 0) / RR;\n      karmozdAmount = Math.round(RR * karmozd * buyConversionResult) / RR || 0;\n      buyEndPrice = Math.round(CR * buyConvertAmount / buyConversionResult) / CR || 0 + buySource.name;\n      setConvertRate(rate);\n    } else {\n      if (sellConvertAmount && sellSource.small_name_slug) {\n        sellLowCredit = sellConvertAmount > availableCurrency;\n        if (sellLowCredit) sellConvertInvalid = true;\n      }\n\n      if (!sellSource.small_name_slug || !sellDestination.small_name_slug || !sellConvertAmount || sellLowCredit) {\n        sellConvertInvalid = true;\n        return;\n      }\n\n      sellConvertInvalid = false;\n      sellConvertErrorMessage = \"\";\n      let key = `${sellSource.small_name_slug}/${sellDestination.small_name_slug}`;\n      let rate = convertRates[key];\n      const RR = Math.pow(10, Math.max(sellDestination.decimal, sellSource.decimal) || 3);\n      const CR = Math.pow(10, 8);\n      sellConversionResult = Math.round(RR * (rate * sellConvertAmount) || 0) / RR;\n      karmozdAmount = Math.round(RR * karmozd * sellConversionResult) / RR || 0;\n      sellEndPrice = Math.round(CR * sellConvertAmount / sellConversionResult) / CR || 0 + sellDestination.name;\n      setConvertRate(rate);\n    }\n  };\n\n  computePrices();\n  useEffect(() => {\n    dispatch(fetch_currencies());\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header2, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Sidebar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(PageTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-5 col-lg-5 col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buy-sell-widget\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Tabs, {\n    activeKey: tab,\n    onSelect: k => setTab(k),\n    id: \"uncontrolled-tab-example\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"buy\",\n    title: \"\\u062E\\u0631\\u06CC\\u062F\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    method: \"post\",\n    name: \"myform\",\n    className: \"currency_validate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 57\n    }\n  }, \"\\u0627\\u0631\\u0632 \\u0632\\u06CC\\u0631 \\u0631\\u0627 \\u067E\\u0631\\u062F\\u0627\\u062E\\u062A \\u0645\\u06CC\\u06A9\\u0646\\u06CC\\u062F\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"currency\",\n    className: \"form-control\",\n    onChange: changeBuySource,\n    value: buySource.small_name_slug,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 61\n    }\n  }, \"\\u0627\\u0646\\u062A\\u062E\\u0627\\u0628\"), currencyList && currencyList.length && currencyList.map((c, idx) => {\n    return idx > 0 && [\"IRT\", \"USDT\"].includes(c.small_name_slug) ? /*#__PURE__*/React.createElement(\"option\", {\n      key: idx,\n      value: c.small_name_slug,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 130\n      }\n    }, \" \", c.name) : undefined;\n  })), buyLowCredit && /*#__PURE__*/React.createElement(\"a\", {\n    href: \"wallet\",\n    className: \"form-text text-muted text-nowrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 74\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 65\n    }\n  }, \"\\u0627\\u0639\\u062A\\u0628\\u0627\\u0631 \\u0646\\u0627\\u06A9\\u0627\\u0641\\u06CC ! \"), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-success me-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 65\n    }\n  }, \"\\u0634\\u0627\\u0631\\u0698 \\u06A9\\u06CC\\u0641 \\u067E\\u0648\\u0644\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 57\n    }\n  }, \"\\u0648\\u0627\\u062D\\u062F \\u0632\\u06CC\\u0631 \\u0631\\u0627 \\u062F\\u0631\\u06CC\\u0627\\u0641\\u062A \\u0645\\u06CC\\u06A9\\u0646\\u06CC\\u062F\"), /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    name: \"currency\",\n    className: \" mb-3\",\n    onChange: changeBuyDestination,\n    value: buyDestination.small_name_slug,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 61\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 61\n    }\n  }, \"\\u0627\\u0646\\u062A\\u062E\\u0627\\u0628\"), currencyList && currencyList.length && currencyList.map((c, idx) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: idx,\n      value: c.small_name_slug,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 77\n      }\n    }, \" \", c.name);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 57\n    }\n  }, \"\\u0645\\u0642\\u062F\\u0627\\u0631\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"currency_amount\",\n    className: \"form-control\",\n    value: buyConvertAmount,\n    onChange: e => setBuyConvertAmount(e.target.value),\n    placeholder: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 61\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"usd_amount\",\n    className: \"form-control\",\n    value: buyEndPrice,\n    readOnly: true,\n    placeholder: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 61\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    name: \"submit\",\n    className: \"btn btn-success w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 53\n    }\n  }, \"\\u062A\\u0628\\u062F\\u06CC\\u0644 \\u06A9\\u0646 !\"))), /*#__PURE__*/React.createElement(Tab, {\n    eventKey: \"sell\",\n    title: \"\\u0641\\u0631\\u0648\\u0634\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    method: \"post\",\n    name: \"myform\",\n    className: \"currency2_validate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 57\n    }\n  }, \"\\u0627\\u0631\\u0632 \\u062F\\u06CC\\u062C\\u06CC\\u062A\\u0627\\u0644 \\u0632\\u06CC\\u0631 \\u0631\\u0627 \\u0645\\u06CC \\u0641\\u0631\\u0648\\u0634\\u06CC\\u062F\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"currency\",\n    className: \"form-control mb-3\",\n    onChange: changeSellSource,\n    value: sellSource.small_name_slug,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 61\n    }\n  }, \"\\u0627\\u0646\\u062A\\u062E\\u0627\\u0628\"), currencyList && currencyList.length && currencyList.map((c, idx) => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: idx,\n      value: c.small_name_slug,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 81\n      }\n    }, \" \", c.name);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 57\n    }\n  }, \"\\u0648\\u0627\\u062D\\u062F \\u0632\\u06CC\\u0631 \\u0631\\u0627 \\u062F\\u0631\\u06CC\\u0627\\u0641\\u062A \\u0645\\u06CC\\u06A9\\u0646\\u06CC\\u062F\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"currency\",\n    className: \"form-control mb-3\",\n    onChange: changeSellDestination,\n    value: sellDestination.small_name_slug,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 61\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: undefined,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 61\n    }\n  }, \"\\u0627\\u0646\\u062A\\u062E\\u0627\\u0628\"), currencyList && currencyList.length && currencyList.map((c, idx) => {\n    return idx > 0 && [\"IRT\", \"USDT\"].includes(c.small_name_slug) ? /*#__PURE__*/React.createElement(\"option\", {\n      key: idx,\n      value: c.small_name_slug,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 134\n      }\n    }, \" \", c.name) : undefined;\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 57\n    }\n  }, \"\\u0645\\u0642\\u062F\\u0627\\u0631\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"currency_amount\",\n    className: \"form-control\",\n    value: buyConvertAmount,\n    onChange: e => setBuyConvertAmount(e.target.value),\n    placeholder: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 61\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"usd_amount\",\n    className: \"form-control\",\n    value: buyConversionResult,\n    readOnly: true,\n    placeholder: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 61\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    name: \"submit\",\n    className: \"btn btn-danger w-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 53\n    }\n  }, \"\\u062A\\u0628\\u062F\\u06CC\\u0644 \\u06A9\\u0646 !\"))))))), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 29\n    }\n  }, \"\\u0644\\u0648\\u0631\\u0645 \\u0627\\u06CC\\u067E\\u0633\\u0648\\u0645 \\u0645\\u062A\\u0646 \\u0633\\u0627\\u062E\\u062A\\u06AF\\u06CC \\u0628\\u0627 \\u062A\\u0648\\u0644\\u06CC\\u062F \\u0633\\u0627\\u062F\\u06AF\\u06CC \\u0646\\u0627\\u0645\\u0641\\u0647\\u0648\\u0645 \\u0627\\u0632 \\u0635\\u0646\\u0639\\u062A \\u0686\\u0627\\u067E \\u0648 \\u0628\\u0627 \\u0627\\u0633\\u062A\\u0641\\u0627\\u062F\\u0647 \\u0627\\u0632 \\u0637\\u0631\\u0627\\u062D\\u0627\\u0646 \\u06AF\\u0631\\u0627\\u0641\\u06CC\\u06A9 \\u0627\\u0633\\u062A\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-xl-7 col-lg-7 col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buyer-seller\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"bg-transparent border-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 45\n    }\n  }, \" Close\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 45\n    }\n  }, \"Chart\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"table-responsive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 45\n    }\n  }, tab === \"buy\" ? /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 50\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 61\n    }\n  }, \"\\u0634\\u0645\\u0627 \\u062E\\u0631\\u06CC\\u062F\\u0627\\u0631 \\u0647\\u0633\\u062A\\u06CC\\u062F\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 61\n    }\n  }, buyConvertAmount, \" \", \" \", \" \", buyDestination.small_name_slug))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 57\n    }\n  }, \"\\u0631\\u0648\\u0634 \\u067E\\u0631\\u062F\\u0627\\u062E\\u062A\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 57\n    }\n  }, buySource.name || \"-\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 57\n    }\n  }, \"\\u0646\\u0633\\u0628\\u062A \\u062A\\u0628\\u062F\\u06CC\\u0644\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 57\n    }\n  }, convertRate, \" \", buySource.name)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 57\n    }\n  }, \"\\u0641\\u06CC\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 57\n    }\n  }, \"$28.00 USD\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 57\n    }\n  }, \"\\u062C\\u0645\\u0639\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 57\n    }\n  }, \"$854.00 USD\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 57\n    }\n  }, \"\\u0648\\u062A\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 61\n    }\n  }, \"$25.00 USD\"))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 57\n    }\n  }, \" \\u0645\\u062C\\u0645\\u0648\\u0639\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 57\n    }\n  }, \" $1232.00 USD\"))) : /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 61\n    }\n  }, \"\\u0634\\u0645\\u0627 \\u0641\\u0631\\u0648\\u0634\\u0646\\u062F\\u0647 \\u0647\\u0633\\u062A\\u06CC\\u062F\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 61\n    }\n  }, buyConvertAmount, \" \", \" \", \" \", sellSource.small_name_slug))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 57\n    }\n  }, \"\\u0648\\u0627\\u062D\\u062F \\u062F\\u0631\\u06CC\\u0627\\u0641\\u062A\\u06CC\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 57\n    }\n  }, sellDestination.name || \"-\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 57\n    }\n  }, \"\\u0646\\u0633\\u0628\\u062A \\u062A\\u0628\\u062F\\u06CC\\u0644\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 57\n    }\n  }, convertRate, \" \", sellDestination.name)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 57\n    }\n  }, \"\\u0641\\u06CC\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 57\n    }\n  }, \"$28.00 USD\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 57\n    }\n  }, \"\\u062C\\u0645\\u0639\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 57\n    }\n  }, \"$854.00 USD\")), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 57\n    }\n  }, \"\\u0648\\u062A\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 57\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 61\n    }\n  }, \"$25.00 USD\"))), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 57\n    }\n  }, \" \\u0645\\u062C\\u0645\\u0648\\u0639\"), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 57\n    }\n  }, \" $1232.00 USD\")))))))))))));\n}\n\nexport default BuySell;","map":{"version":3,"sources":["H:/Projects/package/cheerio/src/jsx/pages/buy-sell.jsx"],"names":["React","useState","useEffect","Tab","Tabs","Form","Link","PageTitle","Header2","Sidebar","useSelector","useDispatch","fetch_currencies","BuySell","currencyList","convertRates","state","currencies","wallet","tab","setTab","convertRate","setConvertRate","availableCurrency","setAvailableCurrency","buyConvertAmount","setBuyConvertAmount","sellConvertAmount","setConvertAmount","buySource","setBuySource","small_name_slug","undefined","sellSource","setSellSource","buyDestination","setBuyDestination","sellDestination","setSellDestination","dispatch","karmozd","karmozdAmount","buyConversionResult","buyEndPrice","buyConvertInvalid","buyLowCredit","buyConvertErrorMessage","sellConversionResult","sellEndPrice","sellConvertInvalid","sellLowCredit","sellConvertErrorMessage","get_available","symbol","target","filter","item","i","length","changeBuySource","e","selectedCurrency","value","indexOf","c","idx","sym","av","changeBuyDestination","changeSellDestination","changeSellSource","computePrices","key","rate","RR","Math","pow","max","decimal","CR","round","name","k","map","includes"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {  Tab, Tabs, Form } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport PageTitle from '../element/page-title';\r\nimport Header2 from '../layout/header2';\r\nimport Sidebar from '../layout/sidebar';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetch_currencies } from '../../redux/actions';\r\n\r\n\r\n\r\n\r\nfunction BuySell() {\r\n    const {currencyList, convertRates}  = useSelector(state => state.currencies)\r\n    const wallet  = useSelector(state => state.wallet.wallet)\r\n    const [tab, setTab] = useState(\"buy\")\r\n    const [convertRate, setConvertRate] = useState(0)\r\n    const [availableCurrency, setAvailableCurrency] = useState(0)\r\n    const [buyConvertAmount, setBuyConvertAmount] = useState(0)\r\n    const [sellConvertAmount, setConvertAmount] = useState(0)\r\n    const [buySource, setBuySource] = useState({small_name_slug: undefined})\r\n    const [sellSource, setSellSource] = useState({small_name_slug: undefined})\r\n    const [buyDestination, setBuyDestination] = useState({small_name_slug: undefined})\r\n    const [sellDestination, setSellDestination] = useState({small_name_slug: undefined})\r\n    const dispatch = useDispatch()\r\n    const karmozd = 0.01;\r\n    let karmozdAmount = 0;\r\n    let buyConversionResult = 0;\r\n    let buyEndPrice = 0;\r\n    let buyConvertInvalid = true;\r\n    let buyLowCredit = false;\r\n    let buyConvertErrorMessage = \"\"\r\n\r\n    let sellConversionResult = 0;\r\n    let sellEndPrice = 0;\r\n    let sellConvertInvalid = true;\r\n    let sellLowCredit = false;\r\n    let sellConvertErrorMessage = \"\"\r\n\r\n    const get_available = (symbol)=>{\r\n        const target = wallet.filter((item, i)=>{\r\n            return item[\"service\"][\"small_name_slug\"] === symbol\r\n        })\r\n         return target.length > 0 ? target[0][\"balance\"] : 0\r\n    }\r\n\r\n    const changeBuySource = (e)=>{\r\n        let selectedCurrency = e.target.value;\r\n        if (!selectedCurrency || selectedCurrency.indexOf(\"انتخاب\") >-1) return;\r\n        selectedCurrency = currencyList.filter((c, idx)=>c.small_name_slug==selectedCurrency)[0]\r\n        let sym = selectedCurrency.small_name_slug;\r\n        let av = get_available(sym)\r\n        setBuySource(selectedCurrency);\r\n        setAvailableCurrency(av)\r\n    }\r\n    const changeBuyDestination = (e)=>{\r\n        let selectedCurrency = e.target.value;\r\n        if (!selectedCurrency || selectedCurrency.indexOf(\"انتخاب\") >-1) return;\r\n        selectedCurrency = currencyList.filter((c, idx)=>c.small_name_slug==selectedCurrency)[0]\r\n        setBuyDestination(selectedCurrency);\r\n    }\r\n    const changeSellDestination = (e)=>{\r\n        let selectedCurrency = e.target.value;\r\n        if (!selectedCurrency || selectedCurrency.indexOf(\"انتخاب\") >-1) return;\r\n        selectedCurrency = currencyList.filter((c, idx)=>c.small_name_slug==selectedCurrency)[0]\r\n        let sym = selectedCurrency.small_name_slug;\r\n        let av = get_available(sym)\r\n        setSellDestination(selectedCurrency);\r\n        setAvailableCurrency(av)\r\n    }\r\n    const changeSellSource = (e)=>{\r\n        let selectedCurrency = e.target.value;\r\n        if (!selectedCurrency || selectedCurrency.indexOf(\"انتخاب\") >-1) return;\r\n        selectedCurrency = currencyList.filter((c, idx)=>c.small_name_slug==selectedCurrency)[0]\r\n        setSellSource(selectedCurrency);\r\n    }\r\n    const computePrices = e=>{\r\n       \r\n        if(tab === \"buy\"){\r\n            if(buyConvertAmount && buySource.small_name_slug ){\r\n                buyLowCredit =  buyConvertAmount > availableCurrency ;\r\n                if(buyLowCredit) buyConvertInvalid = true;\r\n            }\r\n    \r\n            if(!buySource.small_name_slug || !buyDestination.small_name_slug || !buyConvertAmount || buyLowCredit){\r\n                buyConvertInvalid = true;\r\n                return;\r\n            } \r\n            buyConvertInvalid = false;\r\n            buyConvertErrorMessage = \"\"\r\n            \r\n            \r\n            let key = `${buySource.small_name_slug}/${buyDestination.small_name_slug}`\r\n            let rate = convertRates[key];\r\n            const RR = Math.pow(10,Math.max(buySource.decimal, buyDestination.decimal) || 3)\r\n            const CR = Math.pow(10, 8)\r\n            \r\n            \r\n            buyConversionResult = Math.round(RR*(rate * buyConvertAmount) || 0)/RR;\r\n            karmozdAmount =  Math.round(RR* karmozd * buyConversionResult)/ RR || 0;\r\n            buyEndPrice = Math.round(CR * buyConvertAmount/buyConversionResult)/ CR || 0 + buySource.name;\r\n            setConvertRate(rate)\r\n        }else{\r\n            if(sellConvertAmount && sellSource.small_name_slug ){\r\n                sellLowCredit =  sellConvertAmount > availableCurrency ;\r\n                if(sellLowCredit) sellConvertInvalid = true;\r\n            }\r\n    \r\n            if(!sellSource.small_name_slug || !sellDestination.small_name_slug || !sellConvertAmount || sellLowCredit){\r\n                sellConvertInvalid = true;\r\n                return;\r\n            } \r\n            sellConvertInvalid = false;\r\n            sellConvertErrorMessage = \"\"\r\n            let key = `${sellSource.small_name_slug}/${sellDestination.small_name_slug}`\r\n            let rate = convertRates[key];\r\n            const RR = Math.pow(10,Math.max(sellDestination.decimal, sellSource.decimal) || 3)\r\n            const CR = Math.pow(10, 8)\r\n            \r\n            \r\n            sellConversionResult = Math.round(RR*(rate * sellConvertAmount) || 0)/RR;\r\n            karmozdAmount =  Math.round(RR* karmozd * sellConversionResult)/ RR || 0;\r\n            sellEndPrice = Math.round(CR * sellConvertAmount/sellConversionResult)/ CR || 0 + sellDestination.name;\r\n            setConvertRate(rate)\r\n        }\r\n    }\r\n    computePrices()\r\n   useEffect(() => {\r\n    dispatch(fetch_currencies());\r\n   }, [])\r\n    return (\r\n        <>\r\n            <Header2 />\r\n            <Sidebar />\r\n            <PageTitle />\r\n\r\n            <div className=\"content-body\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-xl-5 col-lg-5 col-md-12\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-body\">\r\n                                    <div className=\"buy-sell-widget\">\r\n\r\n                                        <Tabs activeKey={tab} onSelect={(k)=>setTab(k)} id=\"uncontrolled-tab-example\">\r\n                                            <Tab eventKey=\"buy\" title=\"خرید\">\r\n                                                <form method=\"post\" name=\"myform\" className=\"currency_validate\">\r\n                                                    <div className=\"mb-3\">\r\n                                                        <label className=\"form-label\">ارز زیر را پرداخت میکنید</label>\r\n                                                        <select name='currency' className=\"form-control\" onChange={changeBuySource} value={buySource.small_name_slug}>\r\n                                                            <option value={undefined}>انتخاب</option>\r\n                                                                { \r\n                                                                currencyList && currencyList.length && currencyList.map((c, idx)=>{\r\n                                                                    return  idx>0&&[\"IRT\", \"USDT\"].includes(c.small_name_slug) ? <option key={idx} value={c.small_name_slug}> {c.name}</option>:undefined\r\n                                                                })\r\n                                                                }\r\n                                                        </select>\r\n                                                        {buyLowCredit && <a href=\"wallet\" className=\"form-text text-muted text-nowrap\">\r\n                                                                <small className=\"text-danger\">اعتبار ناکافی ! </small>\r\n                                                                <small className=\"text-success me-2\">شارژ کیف پول</small></a>}   \r\n                                                    </div>\r\n\r\n                                                    <div className=\"mb-3\">\r\n                                                        <label className=\"form-label\">واحد زیر را دریافت میکنید</label>\r\n                                                            <Form.Control as=\"select\"  name='currency' className=\" mb-3\" onChange={changeBuyDestination} value={buyDestination.small_name_slug}>\r\n                                                            <option value={undefined}>انتخاب</option>\r\n                                                                { \r\n                                                                currencyList && currencyList.length && currencyList.map((c, idx)=>{\r\n                                                                    return  <option key={idx} value={c.small_name_slug}> {c.name}</option>\r\n                                                                })\r\n                                                            }\r\n                                                                \r\n                                                            </Form.Control>\r\n                                                            \r\n                                                    </div>\r\n\r\n                                                    <div className=\"mb-3\">\r\n                                                        <label className=\"form-label\">مقدار</label>\r\n                                                        <div className=\"input-group\">\r\n                                                            <input type=\"text\" name=\"currency_amount\" className=\"form-control\" value={buyConvertAmount} onChange={e=>setBuyConvertAmount(e.target.value)}\r\n                                                                placeholder=\"\" />\r\n                                                            <input type=\"text\" name=\"usd_amount\" className=\"form-control\" value={buyEndPrice} readOnly\r\n                                                                placeholder=\"\" />\r\n                                                        </div>\r\n                                                        {/* <div className=\"d-flex justify-content-between mt-3\">\r\n                                                            <p className=\"mb-0\">سقف ماهانه: </p>\r\n                                                            <h6 className=\"mb-0\">$49750 باقیمانده</h6>\r\n                                                        </div> */}\r\n                                                    </div>\r\n                                                    <button type=\"submit\" name=\"submit\"\r\n                                                        className=\"btn btn-success w-100\">تبدیل کن !</button>\r\n\r\n                                                </form>\r\n                                            </Tab>\r\n                                            <Tab eventKey=\"sell\" title=\"فروش\" >\r\n                                                <form method=\"post\" name=\"myform\" className=\"currency2_validate\">\r\n                                                <div className=\"mb-3\">\r\n                                                        <label className=\"form-label\">ارز دیجیتال زیر را می فروشید</label>\r\n                                                        <select name='currency' className=\"form-control mb-3\" onChange={changeSellSource} value={sellSource.small_name_slug}>\r\n                                                            <option value={undefined}>انتخاب</option>\r\n\r\n                                                                { \r\n                                                                    currencyList && currencyList.length && currencyList.map((c, idx)=>{\r\n                                                                        return  <option key={idx} value={c.small_name_slug}> {c.name}</option>\r\n                                                                    })\r\n                                                                }\r\n                                                        </select>\r\n                                                        \r\n                                                    </div>\r\n\r\n                                                    <div className=\"mb-3\">\r\n                                                        <label className=\"form-label\">واحد زیر را دریافت میکنید</label>\r\n                                                            <select name='currency' className=\"form-control mb-3\" onChange={changeSellDestination} value={sellDestination.small_name_slug}>\r\n                                                            <option value={undefined}>انتخاب</option>\r\n\r\n                                                                { \r\n                                                                    currencyList && currencyList.length && currencyList.map((c, idx)=>{\r\n                                                                        return idx>0&& [\"IRT\", \"USDT\"].includes(c.small_name_slug) ? <option key={idx} value={c.small_name_slug}> {c.name}</option>:undefined\r\n                                                                    })\r\n                                                                }\r\n                                                            </select>\r\n                                                            \r\n                                                    </div>\r\n\r\n                                                    <div className=\"mb-3\">\r\n                                                        <label className=\"form-label\">مقدار</label>\r\n                                                        <div className=\"input-group\">\r\n                                                            <input type=\"text\" name=\"currency_amount\" className=\"form-control\" value={buyConvertAmount} onChange={e=>setBuyConvertAmount(e.target.value)}\r\n                                                                placeholder=\"\" />\r\n                                                            <input type=\"text\" name=\"usd_amount\" className=\"form-control\" value={buyConversionResult} readOnly\r\n                                                                placeholder=\"\" />\r\n                                                        </div>\r\n                                                        {/* <div className=\"d-flex justify-content-between mt-3\">\r\n                                                            <p className=\"mb-0\">سقف ماهانه: </p>\r\n                                                            <h6 className=\"mb-0\">$49750 باقیمانده</h6>\r\n                                                        </div> */}\r\n                                                    </div>\r\n                                                    <button type=\"submit\" name=\"submit\"\r\n                                                        className=\"btn btn-danger w-100\">تبدیل کن !</button>\r\n                                                </form>\r\n                                            </Tab>\r\n                                        </Tabs>\r\n                                        \r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                            <p className=\"p-4\">لورم ایپسوم متن ساختگی با تولید سادگی نامفهوم از صنعت چاپ و با استفاده از طراحان گرافیک است</p>\r\n                        </div>\r\n                        <div className=\"col-xl-7 col-lg-7 col-md-12\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-body\">\r\n                                    <div className=\"buyer-seller\">\r\n                                        <div className=\"d-flex justify-content-between mb-3\">\r\n                                            <button className=\"bg-transparent border-none\"> Close</button>\r\n                                            <div>Chart</div>\r\n\r\n                                        </div>\r\n                                        <div className=\"table-responsive\">\r\n                                            <table className=\"table\">\r\n                                                {tab===\"buy\"?\r\n                                                 <tbody>\r\n                                                    <tr>\r\n                                                        <td><span className=\"text-primary\">شما خریدار هستید</span></td>\r\n                                                        <td><span className=\"text-primary\">{buyConvertAmount} {\" \"} {buyDestination.small_name_slug}</span></td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>روش پرداخت</td>\r\n                                                        <td>{ buySource.name || \"-\"}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>نسبت تبدیل</td>\r\n                                                        <td>{ convertRate } {buySource.name}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>فی</td>\r\n                                                        <td>$28.00 USD</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>جمع</td>\r\n                                                        <td>$854.00 USD</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>وت</td>\r\n                                                        <td>\r\n                                                            <div className=\"text-danger\">$25.00 USD</div>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td> مجموع</td>\r\n                                                        <td> $1232.00 USD</td>\r\n                                                    </tr>\r\n                                                </tbody>\r\n                                         \r\n                                                :\r\n                                                <tbody>\r\n                                                    <tr>\r\n                                                        <td><span className=\"text-primary\">شما فروشنده هستید</span></td>\r\n                                                        <td><span className=\"text-primary\">{buyConvertAmount} {\" \"} {sellSource.small_name_slug}</span></td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>واحد دریافتی</td>\r\n                                                        <td>{ sellDestination.name || \"-\" }</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>نسبت تبدیل</td>\r\n                                                        <td>{ convertRate } {sellDestination.name}</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>فی</td>\r\n                                                        <td>$28.00 USD</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>جمع</td>\r\n                                                        <td>$854.00 USD</td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td>وت</td>\r\n                                                        <td>\r\n                                                            <div className=\"text-danger\">$25.00 USD</div>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                                    <tr>\r\n                                                        <td> مجموع</td>\r\n                                                        <td> $1232.00 USD</td>\r\n                                                    </tr>\r\n                                                </tbody>}\r\n                                               </table>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                  \r\n                </div>\r\n            </div>\r\n\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default BuySell;"]},"metadata":{},"sourceType":"module"}