{"ast":null,"code":"var _jsxFileName = \"H:\\\\Projects\\\\package\\\\cheerio\\\\src\\\\jsx\\\\index.jsx\";\nimport React, { Component, useContext, useEffect, useState } from 'react';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport Dashboard from './pages/index';\nimport BuySell from './pages/buy-sell';\nimport Accounts from './pages/accounts';\nimport Settings from './pages/settings';\nimport Preferences from './pages/settings-preferences';\nimport SettingsSecurity from './pages/settings-security';\nimport SettingsAccount from './pages/settings-account';\nimport AddBankAccount from './pages/add-bank-acc';\nimport AddDebitCard from './pages/add-debit-card';\nimport Locked from './pages/lock';\nimport Otp1 from './pages/otp-1';\nimport Otp2 from './pages/otp-2';\nimport PrivacyPolicy from './pages/privacy-policy';\nimport Reset from './pages/reset';\nimport Signin from './pages/signin';\nimport Signup from './pages/signup';\nimport TermsCondition from './pages/terms-condition';\nimport VerifyStep1 from './pages/verify-step-1';\nimport VerifyStep2 from './pages/verify-step-2';\nimport VerifyStep3 from './pages/verify-step-3';\nimport VerifyStep4 from './pages/verify-step-4';\nimport VerifyStep5 from './pages/verify-step-5';\nimport VerifyStep6 from './pages/verify-step-6';\nimport History from './pages/history';\nimport Demo from './pages/demo';\nimport Landing from './pages/landing';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetch_currencies, userUpdateDetail } from '../redux/actions';\nimport AuthRoute from './routes/AuthRoute';\nimport BasicRoute from './routes/BasicRoute';\nimport axios from 'axios';\nimport { sessionService } from 'redux-react-session';\nimport createAuthRefreshInterceptor from 'axios-auth-refresh';\naxios.interceptors.request.use(request => {\n  return new Promise((resolve, reject) => {\n    sessionService.loadSession().then(session => {\n      if (!session.token) resolve(request);\n      request.headers.Authorization = \"Bearer \" + session.token;\n      resolve(request);\n    });\n  });\n});\naxios.interceptors.response.use(undefined, function (err) {\n  return new Promise(function (resolve, reject) {\n    if (err.response.status === 401 && err.config && !err.config.__isRetryRequest) {\n      sessionService.loadSession().then(session => {\n        sessionService.loadSession().then(session => {\n          axios.post(\"https://hi-exchange.com/api/v2/token/refresh/\", {\n            refresh: session.refresh\n          }).then(data => {\n            err.headers.Authorization = \"Bearer \" + data.data.access;\n            sessionService.saveSession({\n              token: data.data.access,\n              refresh: session.refresh,\n              refresh_time: new Date().getTime()\n            }).then(e => {\n              err.config.__isRetryRequest = true;\n              axios(err.config).then(resolve, reject);\n            }).catch(e => {\n              console.log('Refresh login error: ', err);\n              reject(err);\n            });\n          }).catch(e => {\n            console.log(e);\n          });\n        });\n      });\n    }\n\n    reject(err);\n  });\n}); // axios.interceptors.response.use(response=>response,  error => {\n//     const status = error.response ? error.response.status : null\n//     if (status === 401) {\n//         console.log(\"####\\n\\n\\n\\n\\n\\n##############\", error);\n//         return sessionService.loadSession().then(session=>{\n//             if (true){\n//                 axios.post(\"https://hi-exchange.com/api/v2/token/refresh/\", {\n//                     refresh: session.refresh\n//                 }).then(resp=>{\n//                     const {data} = resp;\n//                     sessionService.saveSession({\n//                         token: data.access, \n//                         refresh: session.refresh,\n//                         refresh_time: new Date().getTime()\n//                     }).then(e=>{\n//                         return error;\n//                     }).catch(err=>{\n//                         console.log(err);\n//                     })\n//                 }).catch(err=>{\n//                     console.log(err);\n//                 })\n//             }\n//         }).catch(err=>{\n//             console.log(err);\n//         })\n//     }\n//     console.log(\"%%%%%%%%%%%%%%%%%%\")\n//     return Promise.reject(error)\n// })\n\nconst Index = () => {\n  const dispatch = useDispatch();\n  const checked = useSelector(state => state.session.checked);\n  useEffect(() => {\n    dispatch(fetch_currencies());\n    dispatch(userUpdateDetail());\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, checked ? /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"main-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/buy-sell\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(BuySell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 61\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/accounts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Accounts, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 61\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Settings, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 61\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/settings-preferences\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Preferences, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 73\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/settings-security\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(SettingsSecurity, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 70\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/settings-account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(SettingsAccount, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 69\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/add-bank-acc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(AddBankAccount, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 65\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/add-debit-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(AddDebitCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 67\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/lock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Locked, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 57\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/privacy-policy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(PrivacyPolicy, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 67\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/reset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Reset, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 58\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/terms-condition\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(TermsCondition, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 68\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/verify-step-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(VerifyStep1, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 66\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/verify-step-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(VerifyStep2, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 66\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/verify-step-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(VerifyStep3, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 66\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/verify-step-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(VerifyStep4, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 66\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/verify-step-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(VerifyStep5, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 66\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/verify-step-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(VerifyStep6, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 66\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/history\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(History, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 60\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/landing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Landing, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 60\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/demo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Demo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 57\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(AuthRoute, {\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Dashboard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 52\n    }\n  })), /*#__PURE__*/React.createElement(BasicRoute, {\n    exact: true,\n    path: \"/signin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Signin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 59\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(BasicRoute, {\n    exact: true,\n    path: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Signup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 59\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(BasicRoute, {\n    exact: true,\n    path: \"/otp-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Otp1, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 58\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(BasicRoute, {\n    exact: true,\n    path: \"/otp-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 25\n    }\n  }, \" \", /*#__PURE__*/React.createElement(Otp2, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 58\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(Route, {\n    render: () => /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 29\n      }\n    }, \"404\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  })))) : /*#__PURE__*/React.createElement(\"section\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }));\n}; // const mapStateToProps = ({session}) =>({\n//     checked : session.checked\n// })\n\n\nexport default Index;","map":{"version":3,"sources":["H:/Projects/package/cheerio/src/jsx/index.jsx"],"names":["React","Component","useContext","useEffect","useState","BrowserRouter","Route","Switch","Redirect","Dashboard","BuySell","Accounts","Settings","Preferences","SettingsSecurity","SettingsAccount","AddBankAccount","AddDebitCard","Locked","Otp1","Otp2","PrivacyPolicy","Reset","Signin","Signup","TermsCondition","VerifyStep1","VerifyStep2","VerifyStep3","VerifyStep4","VerifyStep5","VerifyStep6","History","Demo","Landing","useDispatch","useSelector","fetch_currencies","userUpdateDetail","AuthRoute","BasicRoute","axios","sessionService","createAuthRefreshInterceptor","interceptors","request","use","Promise","resolve","reject","loadSession","then","session","token","headers","Authorization","response","undefined","err","status","config","__isRetryRequest","post","refresh","data","access","saveSession","refresh_time","Date","getTime","e","catch","console","log","Index","dispatch","checked","state"],"mappings":"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","sourcesContent":["import React, { Component, useContext, useEffect, useState } from 'react';\r\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\r\nimport Dashboard from './pages/index';\r\nimport BuySell from './pages/buy-sell';\r\nimport Accounts from './pages/accounts';\r\nimport Settings from './pages/settings';\r\nimport Preferences from './pages/settings-preferences';\r\nimport SettingsSecurity from './pages/settings-security';\r\nimport SettingsAccount from './pages/settings-account';\r\nimport AddBankAccount from './pages/add-bank-acc';\r\nimport AddDebitCard from './pages/add-debit-card';\r\nimport Locked from './pages/lock';\r\nimport Otp1 from './pages/otp-1';\r\nimport Otp2 from './pages/otp-2';\r\nimport PrivacyPolicy from './pages/privacy-policy';\r\nimport Reset from './pages/reset';\r\nimport Signin from './pages/signin';\r\nimport Signup from './pages/signup';\r\nimport TermsCondition from './pages/terms-condition';\r\nimport VerifyStep1 from './pages/verify-step-1';\r\nimport VerifyStep2 from './pages/verify-step-2';\r\nimport VerifyStep3 from './pages/verify-step-3';\r\nimport VerifyStep4 from './pages/verify-step-4';\r\nimport VerifyStep5 from './pages/verify-step-5';\r\nimport VerifyStep6 from './pages/verify-step-6';\r\nimport History from './pages/history';\r\nimport Demo from './pages/demo';\r\nimport Landing from './pages/landing';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { fetch_currencies, userUpdateDetail } from '../redux/actions'\r\nimport AuthRoute from './routes/AuthRoute'\r\nimport BasicRoute from './routes/BasicRoute'\r\nimport axios from 'axios'\r\nimport { sessionService } from 'redux-react-session' \r\nimport createAuthRefreshInterceptor from 'axios-auth-refresh';\r\n\r\naxios.interceptors.request.use(request=>{\r\n    return new Promise((resolve, reject)=>{\r\n        sessionService.loadSession().then(session=>{\r\n            if (!session.token) resolve(request)\r\n            request.headers.Authorization = \"Bearer \" + session.token\r\n            resolve(request)\r\n        })\r\n    })\r\n})\r\naxios.interceptors.response.use(undefined, function (err) {\r\n    return new Promise(function (resolve, reject) {\r\n        if (err.response.status === 401 && err.config && !err.config.__isRetryRequest) {\r\n            sessionService.loadSession().then( session=>{\r\n                 sessionService.loadSession().then(session=>{\r\n                    axios.post(\"https://hi-exchange.com/api/v2/token/refresh/\", {\r\n                        refresh: session.refresh\r\n                    }).then(data=>{\r\n                       \r\n                        err.headers.Authorization = \"Bearer \" + data.data.access\r\n                        sessionService.saveSession({\r\n                            token: data.data.access,\r\n                            refresh: session.refresh,\r\n                            refresh_time: new Date().getTime()\r\n                        }).then(e=>{\r\n                            err.config.__isRetryRequest = true\r\n                            axios(err.config).then(resolve, reject);\r\n                        }).catch(e=>{\r\n                            console.log('Refresh login error: ', err);\r\n                            reject(err); \r\n                        })\r\n                    }).catch(e=>{\r\n                        console.log(e);\r\n                    })\r\n                })\r\n            })\r\n        }\r\n        reject(err);\r\n    });\r\n});\r\n\r\n// axios.interceptors.response.use(response=>response,  error => {\r\n//     const status = error.response ? error.response.status : null\r\n//     if (status === 401) {\r\n//         console.log(\"####\\n\\n\\n\\n\\n\\n##############\", error);\r\n        \r\n//         return sessionService.loadSession().then(session=>{\r\n//             if (true){\r\n//                 axios.post(\"https://hi-exchange.com/api/v2/token/refresh/\", {\r\n//                     refresh: session.refresh\r\n//                 }).then(resp=>{\r\n//                     const {data} = resp;\r\n//                     sessionService.saveSession({\r\n//                         token: data.access, \r\n//                         refresh: session.refresh,\r\n//                         refresh_time: new Date().getTime()\r\n//                     }).then(e=>{\r\n//                         return error;\r\n//                     }).catch(err=>{\r\n//                         console.log(err);\r\n//                     })\r\n//                 }).catch(err=>{\r\n//                     console.log(err);\r\n//                 })\r\n//             }\r\n//         }).catch(err=>{\r\n//             console.log(err);\r\n//         })\r\n        \r\n//     }\r\n//     console.log(\"%%%%%%%%%%%%%%%%%%\")\r\n//     return Promise.reject(error)\r\n// })\r\n\r\n\r\nconst Index = ()=> {\r\n    const dispatch = useDispatch();\r\n    const checked = useSelector(state => state.session.checked);\r\n\r\n    useEffect( ()=>{\r\n        dispatch(fetch_currencies());\r\n        dispatch(userUpdateDetail())\r\n    }, []);\r\n\r\n    return (\r\n        <>  \r\n        \r\n            {checked?\r\n            \r\n            <BrowserRouter  >\r\n                <div id=\"main-wrapper\">\r\n                    <Switch>\r\n                        <AuthRoute  exact path='/buy-sell'> <BuySell/> </AuthRoute>\r\n                        <AuthRoute  exact path='/accounts'> <Accounts/> </AuthRoute>\r\n                        <AuthRoute  exact path='/settings'> <Settings/> </AuthRoute>\r\n                        <AuthRoute  exact path='/settings-preferences'> <Preferences/> </AuthRoute>\r\n                        <AuthRoute  exact path='/settings-security'> <SettingsSecurity/> </AuthRoute>\r\n                        <AuthRoute  exact path='/settings-account'> <SettingsAccount/> </AuthRoute>\r\n                        <AuthRoute  exact path='/add-bank-acc'> <AddBankAccount/> </AuthRoute>\r\n                        <AuthRoute  exact path='/add-debit-card'> <AddDebitCard/> </AuthRoute>\r\n                        <AuthRoute  exact path='/lock'> <Locked/> </AuthRoute>\r\n                        <AuthRoute  exact path='/privacy-policy'> <PrivacyPolicy/> </AuthRoute>\r\n                        <AuthRoute  exact path='/reset'> <Reset/> </AuthRoute>\r\n                        <AuthRoute  exact path='/terms-condition'> <TermsCondition/> </AuthRoute>\r\n                        <AuthRoute  exact path='/verify-step-1'> <VerifyStep1/> </AuthRoute>\r\n                        <AuthRoute  exact path='/verify-step-2'> <VerifyStep2/> </AuthRoute>\r\n                        <AuthRoute  exact path='/verify-step-3'> <VerifyStep3/> </AuthRoute>\r\n                        <AuthRoute  exact path='/verify-step-4'> <VerifyStep4/> </AuthRoute>\r\n                        <AuthRoute  exact path='/verify-step-5'> <VerifyStep5/> </AuthRoute>\r\n                        <AuthRoute  exact path='/verify-step-6'> <VerifyStep6/> </AuthRoute>\r\n                        <AuthRoute  exact path='/history'> <History/> </AuthRoute>\r\n                        <AuthRoute  exact path='/landing'> <Landing/> </AuthRoute>\r\n                        <AuthRoute  exact path='/demo'> <Demo/> </AuthRoute>\r\n                        <AuthRoute  exact path='/'><Dashboard></Dashboard></AuthRoute>\r\n                        <BasicRoute exact path='/signin'> <Signin/> </BasicRoute>\r\n                        <BasicRoute exact path='/signup'> <Signup/> </BasicRoute>\r\n                        <BasicRoute exact path='/otp-1'> <Otp1/> </BasicRoute>\r\n                        <BasicRoute exact path='/otp-2'> <Otp2/> </BasicRoute>\r\n                        <Route render={()=>\r\n                            <h1>404</h1>\r\n                        \r\n                        }></Route>\r\n                    </Switch>\r\n                </div>\r\n            </BrowserRouter>\r\n           :\r\n            <section></section> \r\n           }\r\n        </>\r\n    );\r\n    \r\n}\r\n// const mapStateToProps = ({session}) =>({\r\n//     checked : session.checked\r\n// })\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}