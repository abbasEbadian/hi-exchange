{"ast":null,"code":"var _jsxFileName = \"H:\\\\Projects\\\\package\\\\cheerio\\\\src\\\\jsx\\\\element\\\\Timer.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { log } from 'util';\n\nfunction Timer() {\n  const [time, setTime] = useState(60);\n  const [next, setNext] = useState(\"0:0:0\");\n  const next_refresh = useSelector(state => state.indexConverter.nextRefreshTime);\n  useEffect(() => {\n    setNext(next_refresh);\n  }, [next_refresh]);\n  const nd = new Date();\n  const [h, m, s] = next.split(':');\n  nd.setHours(+h);\n  nd.setMinutes(+m);\n  nd.setSeconds(+s);\n  setTimeout(e => {\n    setTime(Math.round((nd - new Date()) / 1000));\n  }, 1000);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, time < 60 && time >= 0 ? time : \"\");\n}\n\nexport default Timer;","map":{"version":3,"sources":["H:/Projects/package/cheerio/src/jsx/element/Timer.jsx"],"names":["React","useState","useEffect","useSelector","log","Timer","time","setTime","next","setNext","next_refresh","state","indexConverter","nextRefreshTime","nd","Date","h","m","s","split","setHours","setMinutes","setSeconds","setTimeout","e","Math","round"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,GAAT,QAAoB,MAApB;;AAEA,SAASC,KAAT,GAAiB;AACb,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACO,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,CAAC,OAAD,CAAhC;AACA,QAAMS,YAAY,GAAGP,WAAW,CAACQ,KAAK,IAAEA,KAAK,CAACC,cAAN,CAAqBC,eAA7B,CAAhC;AACAX,EAAAA,SAAS,CAAC,MAAM;AACZO,IAAAA,OAAO,CAACC,YAAD,CAAP;AACH,GAFQ,EAEN,CAACA,YAAD,CAFM,CAAT;AAGA,QAAMI,EAAE,GAAG,IAAIC,IAAJ,EAAX;AACA,QAAM,CAACC,CAAD,EAAIC,CAAJ,EAAOC,CAAP,IAAYV,IAAI,CAACW,KAAL,CAAW,GAAX,CAAlB;AACAL,EAAAA,EAAE,CAACM,QAAH,CAAY,CAACJ,CAAb;AACAF,EAAAA,EAAE,CAACO,UAAH,CAAc,CAACJ,CAAf;AACAH,EAAAA,EAAE,CAACQ,UAAH,CAAc,CAACJ,CAAf;AACAK,EAAAA,UAAU,CAACC,CAAC,IAAE;AACVjB,IAAAA,OAAO,CAACkB,IAAI,CAACC,KAAL,CAAY,CAACZ,EAAE,GAAG,IAAIC,IAAJ,EAAN,IAAkB,IAA9B,CAAD,CAAP;AACH,GAFS,EAEP,IAFO,CAAV;AAGA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACMT,IAAI,GAAG,EAAP,IAAaA,IAAI,IAAG,CAArB,GAA0BA,IAA1B,GAAiC,EADtC,CADJ;AAKH;;AAED,eAAeD,KAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { log } from 'util';\r\n\r\nfunction Timer() {\r\n    const [time, setTime] = useState(60)\r\n    const [next, setNext] = useState(\"0:0:0\")\r\n    const next_refresh = useSelector(state=>state.indexConverter.nextRefreshTime)\r\n    useEffect(() => {\r\n        setNext(next_refresh)\r\n    }, [next_refresh])\r\n    const nd = new Date()\r\n    const [h, m, s] = next.split(':')\r\n    nd.setHours(+h)\r\n    nd.setMinutes(+m)\r\n    nd.setSeconds(+s)\r\n    setTimeout(e=>{\r\n        setTime(Math.round( (nd - new Date())/1000 ) )\r\n    }, 1000)\r\n    return (\r\n        <div>\r\n            {(time < 60 && time >=0) ? time : \"\"}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Timer\r\n"]},"metadata":{},"sourceType":"module"}