{"ast":null,"code":"import axios from \"axios\";\nexport const FETCH_ACCOUNTS = \"FETCH_ACCOUNTS\";\nexport const UPDATE_ACCOUNTS = \"UPDATE_ACCOUNTS\";\nconst BASE = \"https://hi-exchange.com\";\nexport const fetch_accounts = () => {\n  return dispatch => {\n    axios.get(BASE + \"/api/v2/bank/list/\").then(response => {\n      const {\n        data\n      } = response;\n      dispatch(update_accounts(data));\n    });\n  };\n};\nexport const add_credit_card = ({\n  card,\n  shaba,\n  bank\n}, toast) => {\n  return dispatch => {\n    axios.post(\"https://hi-exchange.com/api/v2/bank/add/\", {\n      card,\n      shaba,\n      bank\n    }).then(response => {\n      const {\n        data\n      } = response;\n\n      if (data.error === 1) {\n        toast.warn(data.message);\n      } else {\n        toast.success(data.message);\n        dispatch(fetch_accounts());\n      }\n    }).catch(e => {\n      toast.error(\"خطا در برقراری ارتباط\");\n    });\n  };\n};\nexport const update_accounts = accounts => {\n  return {\n    type: UPDATE_ACCOUNTS,\n    payload: accounts\n  };\n};","map":{"version":3,"sources":["H:/Projects/package/cheerio/src/redux/actions/accounts.js"],"names":["axios","FETCH_ACCOUNTS","UPDATE_ACCOUNTS","BASE","fetch_accounts","dispatch","get","then","response","data","update_accounts","add_credit_card","card","shaba","bank","toast","post","error","warn","message","success","catch","e","accounts","type","payload"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,cAAc,GAAI,gBAAxB;AACP,OAAO,MAAMC,eAAe,GAAI,iBAAzB;AAGP,MAAMC,IAAI,GAAG,yBAAb;AACA,OAAO,MAAMC,cAAc,GAAG,MAAI;AAC9B,SAAOC,QAAQ,IAAG;AACdL,IAAAA,KAAK,CAACM,GAAN,CAAUH,IAAI,GAAE,oBAAhB,EAAsCI,IAAtC,CAA2CC,QAAQ,IAAE;AACjD,YAAM;AAACC,QAAAA;AAAD,UAASD,QAAf;AACAH,MAAAA,QAAQ,CAACK,eAAe,CAACD,IAAD,CAAhB,CAAR;AACH,KAHD;AAIH,GALD;AAMH,CAPM;AAQP,OAAO,MAAME,eAAe,GAAG,CAAC;AAACC,EAAAA,IAAD;AAAOC,EAAAA,KAAP;AAAcC,EAAAA;AAAd,CAAD,EAAsBC,KAAtB,KAA8B;AACrD,SAAOV,QAAQ,IAAE;AACbL,IAAAA,KAAK,CAACgB,IAAN,CAAW,0CAAX,EAAuD;AACvDJ,MAAAA,IADuD;AAEvDC,MAAAA,KAFuD;AAGvDC,MAAAA;AAHuD,KAAvD,EAIDP,IAJC,CAIIC,QAAQ,IAAE;AACd,YAAM;AAACC,QAAAA;AAAD,UAASD,QAAf;;AACA,UAAGC,IAAI,CAACQ,KAAL,KAAe,CAAlB,EAAoB;AAChBF,QAAAA,KAAK,CAACG,IAAN,CAAWT,IAAI,CAACU,OAAhB;AACH,OAFD,MAEK;AACDJ,QAAAA,KAAK,CAACK,OAAN,CAAcX,IAAI,CAACU,OAAnB;AACAd,QAAAA,QAAQ,CAACD,cAAc,EAAf,CAAR;AACH;AACJ,KAZG,EAYDiB,KAZC,CAYKC,CAAC,IAAE;AACRP,MAAAA,KAAK,CAACE,KAAN,CAAY,uBAAZ;AACH,KAdG;AAeH,GAhBD;AAiBP,CAlBM;AAmBP,OAAO,MAAMP,eAAe,GAAIa,QAAD,IAAY;AACvC,SAAO;AACHC,IAAAA,IAAI,EAAEtB,eADH;AAEHuB,IAAAA,OAAO,EAAEF;AAFN,GAAP;AAIH,CALM","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const FETCH_ACCOUNTS =  \"FETCH_ACCOUNTS\"\r\nexport const UPDATE_ACCOUNTS =  \"UPDATE_ACCOUNTS\"\r\n\r\n\r\nconst BASE = \"https://hi-exchange.com\"\r\nexport const fetch_accounts = ()=>{\r\n    return dispatch =>{\r\n        axios.get(BASE+ \"/api/v2/bank/list/\").then(response=>{\r\n            const {data} = response\r\n            dispatch(update_accounts(data))\r\n        })\r\n    }\r\n}\r\nexport const add_credit_card = ({card, shaba, bank}, toast)=>{\r\n        return dispatch=>{\r\n            axios.post(\"https://hi-exchange.com/api/v2/bank/add/\", {\r\n            card,\r\n            shaba,\r\n            bank\r\n        }).then(response=>{\r\n            const {data} = response\r\n            if(data.error === 1){\r\n                toast.warn(data.message)\r\n            }else{\r\n                toast.success(data.message)\r\n                dispatch(fetch_accounts())\r\n            }\r\n        }).catch(e=>{\r\n            toast.error(\"خطا در برقراری ارتباط\")\r\n        })\r\n        }\r\n}  \r\nexport const update_accounts = (accounts)=>{\r\n    return {\r\n        type: UPDATE_ACCOUNTS,\r\n        payload: accounts\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}